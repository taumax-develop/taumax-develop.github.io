---
import SiteLayout from '../../../../../../layouts/SiteLayout.astro';
import { Image } from 'astro:assets';
import refactoring from '../../../img/refactoring.jpg';
import legacy_code from '../../../img/legacy_code.jpg';
const title = 'Comments';
const description = 'Code Smell: Comments（コメント）';
const twitterCardSize = 'summary_large_image';
const indexList = [
  { text: 'Home', href: '/' }
];
---
<SiteLayout {title} {description} {twitterCardSize} {indexList}>
  <h1 id="comments">Comments</h1>
  <p><a href="https://sourcemaking.com/refactoring/smells/comments">Comments（コメント）</a></p>
  <p><strong><em>兆候と症状</em></strong><br/>
    メソッドが説明コメントで埋め尽くされている状態。</p>
  <p><strong><em>問題の理由</em></strong><br/>
    コメントは通常、プログラム作成者が自分のコードが直感的でも明快でもないことに気付いたときに、それを改善する目的で記載されます。そのような場合、コメントは、改善されるべき臭いのするコードに消臭剤を撒いて臭いを隠すようなものです。</p>
  <p>もっとよいコメントはメソッドやクラスに良い名前を付けることです。</p>
  <p>コメントがないと理解できないようなソースコードは、コメントが不要になるようにコード構造を変更してみてください。</p>
  <p><strong><em>対処</em></strong></p>
  <ul>
    <li>コメントが複雑な式を説明することを目的としている場合、式は「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#extract-variable">Extract Variable</a>」を使用して理解可能な部分式に分割する必要があります。</li>
    <li>コメントがコードのセクションを説明している場合、このセクションは「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#extract-method">Extract Method</a>」を介して別メソッドとして抽出できます。新しいメソッドの名前はコメントを参考にしましょう。</li>
    <li>メソッドがすでに抽出されているが、メソッドが何をするのかを説明するためにコメントが必要な場合は、メソッド名をわかりやすいものにします。これには「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#rename-method">Rename Method</a>」を使用します。</li>
    <li>システムが機能するために必要な状態に関するルールをアサートする必要がある場合は、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#introduce-assertion">Introduce Assertion</a>」を使用します。</li>
  </ul>
  <p><strong><em>効果</em></strong></p>
  <ul>
    <li>コードがより直感的で明確になります。</li>
  </ul>
  <p><strong><em>When to Ignore</em></strong><br/>
    時としてコメントは有用なものです。</p>
  <ul>
    <li>特定の方法で実装されている理由を説明するとき。</li>
    <li>複雑なアルゴリズムを説明するとき（アルゴリズムを簡素化する他のすべての方法が試され、不足しているとき）。</li>
  </ul>
  <br/><br/>
  <p>書籍としてはこの辺りが参考になると思います。<br/><br/>
  リファクタリング第2版<br/>
  <a target="_blank" href="https://amzn.to/4m4SktG" rel="noopener noreferrer"><Image src={refactoring} alt="refactoring" /></a><br/><br/>
  レガシーコード改善ガイド<br/>
  <a target="_blank" href="https://amzn.to/44SixVn" rel="noopener noreferrer"><Image src={legacy_code} alt="legacy_code" /></a>
  </p>
</SiteLayout>
